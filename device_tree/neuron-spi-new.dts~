/dts-v1/;
/plugin/;

/ {
    compatible = "brcm,bcm2835", "brcm,bcm2836", "brcm,bcm2708",
"brcm,bcm2709";

    fragment@0 {
       target = <&spi0>;
       frag0: __overlay__ {
          #address-cells = <1>;
          #size-cells = <0>;
          status = "okay";
	  pinctrl-0 = <&spi0_pins &spi0_cs_pins>;
	  cs-gpios = <&gpio 8 1>, <&gpio 7 1>, <&gpio 25 1>, <&gpio 24 1>;
	  neuronspi0: neuronspi@0 {
	     compatible = "unipi,neuron";
	     reg = <1>;
	     #address-cells = <1>;
	     #size-cells = <0>;
	     spi-max-frequency = <12000000>;
	     status = "okay";
	  };
	  neuronspi1: neuronspi@1 {
	     compatible = "unipi,neuron";
	     reg = <2>;
	     #address-cells = <1>;
	     #size-cells = <0>;
	     spi-max-frequency = <1200000>;
	     status = "okay";
	  };
	  neuronspi2: neuronspi@2 {
	     compatible = "unipi,neuron";
	     reg = <3>;
	     #address-cells = <1>;
	     #size-cells = <0>;
	     spi-max-frequency = <1200000>;
	     status = "okay";
	  }; 
       };
    };

    fragment@1 {
       target = <&spidev0>;
       __overlay__ {
       		status = "disabled";
	};
    };

    fragment@2 {
    	target = <&spidev1>;
	__overlay__ {
		status = "disabled";
	};
    };

    fragment@3 {
    	target = <&gpio>;
	__overlay__ {
		spi0_cs_pins {
			brcm,pins = <8 7 25 24>;
			brcm,function = <1>;
		};
	};

    };

    __overrides__ {
    	cs0_pin = <&frag0>,"cs-gpios:4", <&spi0_cs_pins>, "brcm,pins:0";
	cs1_pin = <&frag0>,"cs-gpios:16", <&spi0_cs_pins>,"brcm,pins:4";
	cs2_pin = <&frag0>,"cs-gpios:28", <&spi0_cs_pins>,"brcm,pins:8";
	cs3_pin = <&frag0>,"cs-gpios:40", <&spi0_cs_pins>,"brcm,pins:12";
    };


};

